"use strict";var customSelect=document.querySelector(".custom-select"),originalSelect=customSelect.querySelector("select"),originalSelectOptions=Array.from(originalSelect.querySelectorAll("option")),customSelectFocus=customSelect.querySelector(".custom-select__focus"),customSelectFocusText=customSelectFocus.querySelector("span"),customSelectOptionsContainer=customSelect.querySelector(".custom-select__options"),customSelectOptions=[],customSpinbutton=document.querySelector(".spinbutton"),spinButton=customSpinbutton.querySelector('[role="spinbutton"]'),decreaseSpinbutton=customSpinbutton.querySelector("#decrease-people"),increaseSpinbutton=customSpinbutton.querySelector("#increase-people"),CHECK_ICON_URL="./dist/assets/images/icons/icon-check.svg";function createCustomSelectOptions(){originalSelectOptions.forEach(function(e){e=createCustomOption(e);customSelectOptions.push(e),customSelectOptionsContainer.appendChild(e)})}function createCustomOption(e){var t=document.createElement("span"),n=(t.classList.add("custom-select__option"),t.setAttribute("data-selected",e.selected.toString()),t.setAttribute("data-value",e.value),t.addEventListener("click",handleCustomOption),document.createElement("img")),o=(n.setAttribute("src",CHECK_ICON_URL),n.setAttribute("alt",""),document.createElement("span"));return o.innerText=e.innerText,t.appendChild(n),t.appendChild(o),t}function handleCustomOption(e){var t=e.target;originalSelectOptions.forEach(function(e){return e.selected=e.value===t.dataset.value}),handleSelection(),closeCustomSelect()}function handleSelection(){var t=originalSelectOptions.filter(function(e){return e.selected})[0].value;customSelectFocusText.innerText=t.toUpperCase(),customSelectOptions.forEach(function(e){e.dataset.selected=(e.dataset.value===t).toString()})}function openCustomSelect(){customSelect.dataset.open="true"}function closeCustomSelect(){customSelect.dataset.open="false"}function handleSpinButton(e){switch(e.key){case"ArrowUp":e.preventDefault(),increasePeople();break;case"ArrowDown":e.preventDefault(),decreasePeople();break;case"Home":e.preventDefault(),setMinPeople();break;case"End":e.preventDefault(),setMaxPeople()}}function increasePeople(){var e=Number(spinButton.getAttribute("aria-valuenow")),t=Number(spinButton.getAttribute("aria-valuemax"));updateSpinButton(Math.min(e+1,t))}function decreasePeople(){var e=Number(spinButton.getAttribute("aria-valuenow")),t=Number(spinButton.getAttribute("aria-valuemin"));updateSpinButton(Math.max(e-1,t))}function setMaxPeople(){updateSpinButton(Number(spinButton.getAttribute("aria-valuemax")))}function setMinPeople(){updateSpinButton(Number(spinButton.getAttribute("aria-valuemin")))}function updateSpinButton(e){spinButton.setAttribute("aria-valuenow",e.toString()),spinButton.setAttribute("aria-valuetext","".concat(e," people")),spinButton.innerText="".concat(e," people")}createCustomSelectOptions(),originalSelect.addEventListener("keyup",function(e){switch(e.key){case"ArrowUp":case"ArrowDown":handleSelection();break;case"Enter":handleSelection(),closeCustomSelect()}}),customSelectFocus.addEventListener("click",function(e){originalSelect.focus()}),originalSelect.addEventListener("focusin",openCustomSelect),spinButton.addEventListener("keydown",handleSpinButton),increaseSpinbutton.addEventListener("click",increasePeople),decreaseSpinbutton.addEventListener("click",decreasePeople);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2VydmF0aW9uLWZvcm0udHMiXSwibmFtZXMiOlsiY3VzdG9tU2VsZWN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3JpZ2luYWxTZWxlY3QiLCJvcmlnaW5hbFNlbGVjdE9wdGlvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3VzdG9tU2VsZWN0Rm9jdXMiLCJjdXN0b21TZWxlY3RGb2N1c1RleHQiLCJjdXN0b21TZWxlY3RPcHRpb25zQ29udGFpbmVyIiwiY3VzdG9tU2VsZWN0T3B0aW9ucyIsImN1c3RvbVNwaW5idXR0b24iLCJzcGluQnV0dG9uIiwiZGVjcmVhc2VTcGluYnV0dG9uIiwiaW5jcmVhc2VTcGluYnV0dG9uIiwiQ0hFQ0tfSUNPTl9VUkwiLCJjcmVhdGVDdXN0b21TZWxlY3RPcHRpb25zIiwiZm9yRWFjaCIsIm9wdGlvbiIsImN1c3RvbU9wdGlvbiIsImNyZWF0ZUN1c3RvbU9wdGlvbiIsInB1c2giLCJhcHBlbmRDaGlsZCIsIm9wdGlvbldyYXBwZXIiLCJjcmVhdGVFbGVtZW50IiwiY2hlY2tJbWFnZSIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsInNlbGVjdGVkIiwidG9TdHJpbmciLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDdXN0b21PcHRpb24iLCJvcHRpb25UZXh0IiwiaW5uZXJUZXh0IiwiZSIsInRhcmdldCIsIm9wdCIsImRhdGFzZXQiLCJoYW5kbGVTZWxlY3Rpb24iLCJjbG9zZUN1c3RvbVNlbGVjdCIsInNlbGVjdGVkVmFsdWUiLCJmaWx0ZXIiLCJ0b1VwcGVyQ2FzZSIsIm9wZW5DdXN0b21TZWxlY3QiLCJvcGVuIiwiaGFuZGxlU3BpbkJ1dHRvbiIsImtleSIsInByZXZlbnREZWZhdWx0IiwiaW5jcmVhc2VQZW9wbGUiLCJkZWNyZWFzZVBlb3BsZSIsInNldE1pblBlb3BsZSIsInNldE1heFBlb3BsZSIsImN1cnJlbnRWYWx1ZSIsIk51bWJlciIsImdldEF0dHJpYnV0ZSIsIm1heFZhbHVlIiwidXBkYXRlU3BpbkJ1dHRvbiIsIk1hdGgiLCJtaW4iLCJtaW5WYWx1ZSIsIm1heCIsIm5ld1ZhbHVlIiwiY29uY2F0IiwiZm9jdXMiXSwibWFwcGluZ3MiOiJhQUNBLElBQU1BLGFBQTRCQyxTQUFTQyxjQUFjLGdCQUFnQixFQUNuRUMsZUFBb0NILGFBQWFFLGNBQWMsUUFBUSxFQUN2RUUsc0JBQWtEQyxNQUFNQyxLQUFLSCxlQUFlSSxpQkFBaUIsUUFBUSxDQUFDLEVBQ3RHQyxrQkFBaUNSLGFBQWFFLGNBQWMsdUJBQXVCLEVBQ25GTyxzQkFBcUNELGtCQUFrQk4sY0FBYyxNQUFNLEVBQzNFUSw2QkFBNENWLGFBQWFFLGNBQWMseUJBQXlCLEVBQ2xHUyxvQkFBMEMsR0FHeENDLGlCQUFnQ1gsU0FBU0MsY0FBYyxhQUFhLEVBQ3BFVyxXQUEwQkQsaUJBQWlCVixjQUFjLHFCQUFxQixFQUM5RVksbUJBQXdDRixpQkFBaUJWLGNBQWMsa0JBQWtCLEVBQ3pGYSxtQkFBd0NILGlCQUFpQlYsY0FBYyxrQkFBa0IsRUFHekZjLGVBQXlCLDRDQWdDL0IsU0FBU0MsNEJBQ1JiLHNCQUFzQmMsUUFBUSxTQUFBQyxHQUN2QkMsRUFBNEJDLG1CQUFtQkYsQ0FBTSxFQUMzRFIsb0JBQW9CVyxLQUFLRixDQUFZLEVBQ3JDViw2QkFBNkJhLFlBQVlILENBQVksQ0FDdEQsQ0FBQyxDQUNGLENBRUEsU0FBU0MsbUJBQW1CRixHQUMzQixJQUFNSyxFQUFnQnZCLFNBQVN3QixjQUFjLE1BQU0sRUFNN0NDLEdBTE5GLEVBQWNHLFVBQVVDLElBQUksdUJBQXVCLEVBQ25ESixFQUFjSyxhQUFhLGdCQUFpQlYsRUFBT1csU0FBU0MsU0FBUSxDQUFFLEVBQ3RFUCxFQUFjSyxhQUFhLGFBQWNWLEVBQU9hLEtBQUssRUFDckRSLEVBQWNTLGlCQUFpQixRQUFTQyxrQkFBa0IsRUFFdkNqQyxTQUFTd0IsY0FBYyxLQUFLLEdBSXpDVSxHQUhOVCxFQUFXRyxhQUFhLE1BQU9iLGNBQWMsRUFD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Y0FBYyIsImZpbGUiOiJyZXNlcnZhdGlvbi1mb3JtLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGN1c3RvbSBzZWxlY3QgZWxlbWVudHMgKi9cclxuY29uc3QgY3VzdG9tU2VsZWN0OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXN0b20tc2VsZWN0Jyk7XHJcbmNvbnN0IG9yaWdpbmFsU2VsZWN0OiBIVE1MU2VsZWN0RWxlbWVudCA9IGN1c3RvbVNlbGVjdC5xdWVyeVNlbGVjdG9yKCdzZWxlY3QnKTtcclxuY29uc3Qgb3JpZ2luYWxTZWxlY3RPcHRpb25zOiBBcnJheTxIVE1MT3B0aW9uRWxlbWVudD4gPSBBcnJheS5mcm9tKG9yaWdpbmFsU2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpKTtcclxuY29uc3QgY3VzdG9tU2VsZWN0Rm9jdXM6IEhUTUxFbGVtZW50ID0gY3VzdG9tU2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJy5jdXN0b20tc2VsZWN0X19mb2N1cycpO1xyXG5jb25zdCBjdXN0b21TZWxlY3RGb2N1c1RleHQ6IEhUTUxFbGVtZW50ID0gY3VzdG9tU2VsZWN0Rm9jdXMucXVlcnlTZWxlY3Rvcignc3BhbicpO1xyXG5jb25zdCBjdXN0b21TZWxlY3RPcHRpb25zQ29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGN1c3RvbVNlbGVjdC5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLXNlbGVjdF9fb3B0aW9ucycpO1xyXG5sZXQgY3VzdG9tU2VsZWN0T3B0aW9uczogQXJyYXk8SFRNTEVsZW1lbnQ+ID0gW107XHJcblxyXG4vKiBzcGluYnV0dG9uIGVsZW1lbnRzICovXHJcbmNvbnN0IGN1c3RvbVNwaW5idXR0b246IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNwaW5idXR0b24nKTtcclxuY29uc3Qgc3BpbkJ1dHRvbjogSFRNTEVsZW1lbnQgPSBjdXN0b21TcGluYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ1tyb2xlPVwic3BpbmJ1dHRvblwiXScpO1xyXG5jb25zdCBkZWNyZWFzZVNwaW5idXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gY3VzdG9tU3BpbmJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcjZGVjcmVhc2UtcGVvcGxlJyk7XHJcbmNvbnN0IGluY3JlYXNlU3BpbmJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBjdXN0b21TcGluYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJyNpbmNyZWFzZS1wZW9wbGUnKTtcclxuXHJcbi8qIGNvbnN0YW50cyAqL1xyXG5jb25zdCBDSEVDS19JQ09OX1VSTDogc3RyaW5nID0gJy4vZGlzdC9hc3NldHMvaW1hZ2VzL2ljb25zL2ljb24tY2hlY2suc3ZnJztcclxuXHJcbmNyZWF0ZUN1c3RvbVNlbGVjdE9wdGlvbnMoKTtcclxuXHJcbi8qIGV2ZW50IGxpc3RlbmVycyAqL1xyXG4vKiAtLS0gZm9yIGN1c3RvbSBzZWxlY3QgKi9cclxub3JpZ2luYWxTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG5cdHN3aXRjaCAoZS5rZXkpIHtcclxuXHRcdGNhc2UgJ0Fycm93VXAnOlxyXG5cdFx0Y2FzZSAnQXJyb3dEb3duJzpcclxuXHRcdFx0aGFuZGxlU2VsZWN0aW9uKCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnRW50ZXInOlxyXG5cdFx0XHRoYW5kbGVTZWxlY3Rpb24oKTtcclxuXHRcdFx0Y2xvc2VDdXN0b21TZWxlY3QoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG59KTtcclxuXHJcbmN1c3RvbVNlbGVjdEZvY3VzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IEV2ZW50KSA9PiB7XHJcblx0b3JpZ2luYWxTZWxlY3QuZm9jdXMoKTtcclxufSk7XHJcblxyXG5vcmlnaW5hbFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgb3BlbkN1c3RvbVNlbGVjdCk7XHJcblxyXG4vKiAtLS0gZm9yIHNwaW5idXR0b24gKi9cclxuc3BpbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlU3BpbkJ1dHRvbik7XHJcbmluY3JlYXNlU3BpbmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluY3JlYXNlUGVvcGxlKTtcclxuZGVjcmVhc2VTcGluYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVjcmVhc2VQZW9wbGUpO1xyXG5cclxuLyogaGVscGVyIGZ1bmN0aW9ucyAqL1xyXG4vKiAtLS0gZm9yIGN1c3RvbSBzZWxlY3QgKi9cclxuZnVuY3Rpb24gY3JlYXRlQ3VzdG9tU2VsZWN0T3B0aW9ucygpOiB2b2lkIHtcclxuXHRvcmlnaW5hbFNlbGVjdE9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xyXG5cdFx0Y29uc3QgY3VzdG9tT3B0aW9uOiBIVE1MRWxlbWVudCA9IGNyZWF0ZUN1c3RvbU9wdGlvbihvcHRpb24pO1xyXG5cdFx0Y3VzdG9tU2VsZWN0T3B0aW9ucy5wdXNoKGN1c3RvbU9wdGlvbik7XHJcblx0XHRjdXN0b21TZWxlY3RPcHRpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGN1c3RvbU9wdGlvbik7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUN1c3RvbU9wdGlvbihvcHRpb246IEhUTUxPcHRpb25FbGVtZW50KTogSFRNTEVsZW1lbnQge1xyXG5cdGNvbnN0IG9wdGlvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0b3B0aW9uV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdjdXN0b20tc2VsZWN0X19vcHRpb24nKTtcclxuXHRvcHRpb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnZGF0YS1zZWxlY3RlZCcsIG9wdGlvbi5zZWxlY3RlZC50b1N0cmluZygpKTtcclxuXHRvcHRpb25XcmFwcGVyLnNldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScsIG9wdGlvbi52YWx1ZSk7XHJcblx0b3B0aW9uV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUN1c3RvbU9wdGlvbik7XHJcblxyXG5cdGNvbnN0IGNoZWNrSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHRjaGVja0ltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgQ0hFQ0tfSUNPTl9VUkwpO1xyXG5cdGNoZWNrSW1hZ2Uuc2V0QXR0cmlidXRlKCdhbHQnLCAnJyk7XHJcblxyXG5cdGNvbnN0IG9wdGlvblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblx0b3B0aW9uVGV4dC5pbm5lclRleHQgPSBvcHRpb24uaW5uZXJUZXh0O1xyXG5cclxuXHRvcHRpb25XcmFwcGVyLmFwcGVuZENoaWxkKGNoZWNrSW1hZ2UpO1xyXG5cdG9wdGlvbldyYXBwZXIuYXBwZW5kQ2hpbGQob3B0aW9uVGV4dCk7XHJcblxyXG5cdHJldHVybiBvcHRpb25XcmFwcGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDdXN0b21PcHRpb24oZTogRXZlbnQpOiB2b2lkIHtcclxuXHRjb25zdCBvcHRpb246IEhUTUxFbGVtZW50ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcblx0b3JpZ2luYWxTZWxlY3RPcHRpb25zLmZvckVhY2gob3B0ID0+IChvcHQuc2VsZWN0ZWQgPSBvcHQudmFsdWUgPT09IG9wdGlvbi5kYXRhc2V0LnZhbHVlKSk7XHJcblx0aGFuZGxlU2VsZWN0aW9uKCk7XHJcblx0Y2xvc2VDdXN0b21TZWxlY3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uKCk6IHZvaWQge1xyXG5cdGNvbnN0IHNlbGVjdGVkVmFsdWU6IHN0cmluZyA9IG9yaWdpbmFsU2VsZWN0T3B0aW9ucy5maWx0ZXIob3B0ID0+IG9wdC5zZWxlY3RlZClbMF0udmFsdWU7XHJcblx0Y3VzdG9tU2VsZWN0Rm9jdXNUZXh0LmlubmVyVGV4dCA9IHNlbGVjdGVkVmFsdWUudG9VcHBlckNhc2UoKTtcclxuXHRjdXN0b21TZWxlY3RPcHRpb25zLmZvckVhY2gob3B0aW9uID0+IHtcclxuXHRcdG9wdGlvbi5kYXRhc2V0LnNlbGVjdGVkID0gKG9wdGlvbi5kYXRhc2V0LnZhbHVlID09PSBzZWxlY3RlZFZhbHVlKS50b1N0cmluZygpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuQ3VzdG9tU2VsZWN0KCk6IHZvaWQge1xyXG5cdGN1c3RvbVNlbGVjdC5kYXRhc2V0Lm9wZW4gPSAndHJ1ZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlQ3VzdG9tU2VsZWN0KCk6IHZvaWQge1xyXG5cdGN1c3RvbVNlbGVjdC5kYXRhc2V0Lm9wZW4gPSAnZmFsc2UnO1xyXG59XHJcblxyXG4vKiAtLS0gZm9yIHNwaW5idXR0b24gKi9cclxuZnVuY3Rpb24gaGFuZGxlU3BpbkJ1dHRvbihlOiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcblx0c3dpdGNoIChlLmtleSkge1xyXG5cdFx0Y2FzZSAnQXJyb3dVcCc6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0aW5jcmVhc2VQZW9wbGUoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdBcnJvd0Rvd24nOlxyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdGRlY3JlYXNlUGVvcGxlKCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnSG9tZSc6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0c2V0TWluUGVvcGxlKCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnRW5kJzpcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRzZXRNYXhQZW9wbGUoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbmNyZWFzZVBlb3BsZSgpOiB2b2lkIHtcclxuXHRjb25zdCBjdXJyZW50VmFsdWU6IG51bWJlciA9IE51bWJlcihzcGluQnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycpKTtcclxuXHRjb25zdCBtYXhWYWx1ZTogbnVtYmVyID0gTnVtYmVyKHNwaW5CdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JykpO1xyXG5cdGNvbnN0IG5ld1ZhbHVlOiBudW1iZXIgPSBNYXRoLm1pbihjdXJyZW50VmFsdWUgKyAxLCBtYXhWYWx1ZSk7XHJcblx0dXBkYXRlU3BpbkJ1dHRvbihuZXdWYWx1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlY3JlYXNlUGVvcGxlKCk6IHZvaWQge1xyXG5cdGNvbnN0IGN1cnJlbnRWYWx1ZTogbnVtYmVyID0gTnVtYmVyKHNwaW5CdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JykpO1xyXG5cdGNvbnN0IG1pblZhbHVlOiBudW1iZXIgPSBOdW1iZXIoc3BpbkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtaW4nKSk7XHJcblx0Y29uc3QgbmV3VmFsdWU6IG51bWJlciA9IE1hdGgubWF4KGN1cnJlbnRWYWx1ZSAtIDEsIG1pblZhbHVlKTtcclxuXHR1cGRhdGVTcGluQnV0dG9uKG5ld1ZhbHVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TWF4UGVvcGxlKCkge1xyXG5cdGNvbnN0IG1heFZhbHVlOiBudW1iZXIgPSBOdW1iZXIoc3BpbkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtYXgnKSk7XHJcblx0dXBkYXRlU3BpbkJ1dHRvbihtYXhWYWx1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE1pblBlb3BsZSgpIHtcclxuXHRjb25zdCBtaW5WYWx1ZTogbnVtYmVyID0gTnVtYmVyKHNwaW5CdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJykpO1xyXG5cdHVwZGF0ZVNwaW5CdXR0b24obWluVmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTcGluQnV0dG9uKG5ld1ZhbHVlOiBudW1iZXIpOiB2b2lkIHtcclxuXHRzcGluQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5ld1ZhbHVlLnRvU3RyaW5nKCkpO1xyXG5cdHNwaW5CdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVldGV4dCcsIGAke25ld1ZhbHVlfSBwZW9wbGVgKTtcclxuXHRzcGluQnV0dG9uLmlubmVyVGV4dCA9IGAke25ld1ZhbHVlfSBwZW9wbGVgO1xyXG59XHJcbiJdfQ==
