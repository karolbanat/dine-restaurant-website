"use strict";var customSelect=document.querySelector(".custom-select"),originalSelect=customSelect.querySelector("select"),originalSelectOptions=Array.from(originalSelect.querySelectorAll("option")),customSelectFocus=customSelect.querySelector(".custom-select__focus"),customSelectFocusText=customSelectFocus.querySelector("span"),customSelectOptionsContainer=customSelect.querySelector(".custom-select__options"),customSelectOptions=[],customSpinbutton=document.querySelector(".spinbutton"),spinButton=customSpinbutton.querySelector('[role="spinbutton"]'),decreaseSpinbutton=customSpinbutton.querySelector("#decrease-people"),increaseSpinbutton=customSpinbutton.querySelector("#increase-people"),reservationForm=document.querySelector(".reservation-form"),nameInput=reservationForm.querySelector('input[name="name"]'),emailInput=reservationForm.querySelector('input[name="email"]'),monthInput=reservationForm.querySelector('input[name="month"]'),dayInput=reservationForm.querySelector('input[name="day"]'),yearInput=reservationForm.querySelector('input[name="year"]'),hourInput=reservationForm.querySelector('input[name="hour"]'),minutesInput=reservationForm.querySelector('input[name="minute"]'),CHECK_ICON_URL="./dist/assets/images/icons/icon-check.svg";function createCustomSelectOptions(){originalSelectOptions.forEach(function(e){e=createCustomOption(e);customSelectOptions.push(e),customSelectOptionsContainer.appendChild(e)})}function createCustomOption(e){var t=document.createElement("span"),n=(t.classList.add("custom-select__option"),t.setAttribute("data-selected",e.selected.toString()),t.setAttribute("data-value",e.value),t.addEventListener("click",handleCustomOption),document.createElement("img")),o=(n.setAttribute("src",CHECK_ICON_URL),n.setAttribute("alt",""),document.createElement("span"));return o.innerText=e.innerText,t.appendChild(n),t.appendChild(o),t}function handleCustomOption(e){var t=e.target;originalSelectOptions.forEach(function(e){return e.selected=e.value===t.dataset.value}),handleSelection(),closeCustomSelect()}function handleSelection(){var t=originalSelectOptions.filter(function(e){return e.selected})[0].value;customSelectFocusText.innerText=t.toUpperCase(),customSelectOptions.forEach(function(e){e.dataset.selected=(e.dataset.value===t).toString()})}function openCustomSelect(){customSelect.dataset.open="true"}function closeCustomSelect(){customSelect.dataset.open="false"}function handleSpinButton(e){switch(e.key){case"ArrowUp":e.preventDefault(),increasePeople();break;case"ArrowDown":e.preventDefault(),decreasePeople();break;case"Home":e.preventDefault(),setMinPeople();break;case"End":e.preventDefault(),setMaxPeople()}}function increasePeople(){var e=Number(spinButton.getAttribute("aria-valuenow")),t=Number(spinButton.getAttribute("aria-valuemax"));updateSpinButton(Math.min(e+1,t))}function decreasePeople(){var e=Number(spinButton.getAttribute("aria-valuenow")),t=Number(spinButton.getAttribute("aria-valuemin"));updateSpinButton(Math.max(e-1,t))}function setMaxPeople(){updateSpinButton(Number(spinButton.getAttribute("aria-valuemax")))}function setMinPeople(){updateSpinButton(Number(spinButton.getAttribute("aria-valuemin")))}function updateSpinButton(e){spinButton.setAttribute("aria-valuenow",e.toString()),spinButton.setAttribute("aria-valuetext","".concat(e," people")),spinButton.innerText="".concat(e," people")}function isBlank(e){return""!==e}createCustomSelectOptions(),originalSelect.addEventListener("keyup",function(e){switch(e.key){case"ArrowUp":case"ArrowDown":handleSelection();break;case"Enter":handleSelection(),closeCustomSelect()}}),customSelectFocus.addEventListener("click",function(e){originalSelect.focus()}),originalSelect.addEventListener("focusin",openCustomSelect),spinButton.addEventListener("keydown",handleSpinButton),increaseSpinbutton.addEventListener("click",increasePeople),decreaseSpinbutton.addEventListener("click",decreasePeople);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc2VydmF0aW9uLWZvcm0udHMiXSwibmFtZXMiOlsiY3VzdG9tU2VsZWN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3JpZ2luYWxTZWxlY3QiLCJvcmlnaW5hbFNlbGVjdE9wdGlvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3VzdG9tU2VsZWN0Rm9jdXMiLCJjdXN0b21TZWxlY3RGb2N1c1RleHQiLCJjdXN0b21TZWxlY3RPcHRpb25zQ29udGFpbmVyIiwiY3VzdG9tU2VsZWN0T3B0aW9ucyIsImN1c3RvbVNwaW5idXR0b24iLCJzcGluQnV0dG9uIiwiZGVjcmVhc2VTcGluYnV0dG9uIiwiaW5jcmVhc2VTcGluYnV0dG9uIiwicmVzZXJ2YXRpb25Gb3JtIiwibmFtZUlucHV0IiwiZW1haWxJbnB1dCIsIm1vbnRoSW5wdXQiLCJkYXlJbnB1dCIsInllYXJJbnB1dCIsImhvdXJJbnB1dCIsIm1pbnV0ZXNJbnB1dCIsIkNIRUNLX0lDT05fVVJMIiwiY3JlYXRlQ3VzdG9tU2VsZWN0T3B0aW9ucyIsImZvckVhY2giLCJvcHRpb24iLCJjdXN0b21PcHRpb24iLCJjcmVhdGVDdXN0b21PcHRpb24iLCJwdXNoIiwiYXBwZW5kQ2hpbGQiLCJvcHRpb25XcmFwcGVyIiwiY3JlYXRlRWxlbWVudCIsImNoZWNrSW1hZ2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJzZWxlY3RlZCIsInRvU3RyaW5nIiwidmFsdWUiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlQ3VzdG9tT3B0aW9uIiwib3B0aW9uVGV4dCIsImlubmVyVGV4dCIsImUiLCJ0YXJnZXQiLCJvcHQiLCJkYXRhc2V0IiwiaGFuZGxlU2VsZWN0aW9uIiwiY2xvc2VDdXN0b21TZWxlY3QiLCJzZWxlY3RlZFZhbHVlIiwiZmlsdGVyIiwidG9VcHBlckNhc2UiLCJvcGVuQ3VzdG9tU2VsZWN0Iiwib3BlbiIsImhhbmRsZVNwaW5CdXR0b24iLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImluY3JlYXNlUGVvcGxlIiwiZGVjcmVhc2VQZW9wbGUiLCJzZXRNaW5QZW9wbGUiLCJzZXRNYXhQZW9wbGUiLCJjdXJyZW50VmFsdWUiLCJOdW1iZXIiLCJnZXRBdHRyaWJ1dGUiLCJtYXhWYWx1ZSIsInVwZGF0ZVNwaW5CdXR0b24iLCJNYXRoIiwibWluIiwibWluVmFsdWUiLCJtYXgiLCJuZXdWYWx1ZSIsImNvbmNhdCIsImlzQmxhbmsiLCJmb2N1cyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBTUEsYUFBNEJDLFNBQVNDLGNBQWMsZ0JBQWdCLEVBQ25FQyxlQUFvQ0gsYUFBYUUsY0FBYyxRQUFRLEVBQ3ZFRSxzQkFBa0RDLE1BQU1DLEtBQUtILGVBQWVJLGlCQUFpQixRQUFRLENBQUMsRUFDdEdDLGtCQUFpQ1IsYUFBYUUsY0FBYyx1QkFBdUIsRUFDbkZPLHNCQUFxQ0Qsa0JBQWtCTixjQUFjLE1BQU0sRUFDM0VRLDZCQUE0Q1YsYUFBYUUsY0FBYyx5QkFBeUIsRUFDbEdTLG9CQUEwQyxHQUd4Q0MsaUJBQWdDWCxTQUFTQyxjQUFjLGFBQWEsRUFDcEVXLFdBQTBCRCxpQkFBaUJWLGNBQWMscUJBQXFCLEVBQzlFWSxtQkFBd0NGLGlCQUFpQlYsY0FBYyxrQkFBa0IsRUFDekZhLG1CQUF3Q0gsaUJBQWlCVixjQUFjLGtCQUFrQixFQUd6RmMsZ0JBQW1DZixTQUFTQyxjQUFjLG1CQUFtQixFQUM3RWUsVUFBOEJELGdCQUFnQmQsY0FBYyxvQkFBb0IsRUFDaEZnQixXQUErQkYsZ0JBQWdCZCxjQUFjLHFCQUFxQixFQUNsRmlCLFdBQStCSCxnQkFBZ0JkLGNBQWMscUJBQXFCLEVBQ2xGa0IsU0FBNkJKLGdCQUFnQmQsY0FBYyxtQkFBbUIsRUFDOUVtQixVQUE4QkwsZ0JBQWdCZCxjQUFjLG9CQUFvQixFQUNoRm9CLFVBQThCTixnQkFBZ0JkLGNBQWMsb0JBQW9CLEVBQ2hGcUIsYUFBaUNQLGdCQUFnQmQsY0FBYyxzQkFBc0IsRUFHckZzQixlQUF5Qiw0Q0FnQy9CLFNBQVND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QUNyRDNELFdBQVcrQixVQUFTLEdBQUE2QixPQUFNRCxFQUFRLFNBQUEsQ0FDbkMsQ0FHQSxTQUFTRSxRQUFRbEMsR0FDaEIsTUFBaUIsS0FBVkEsQ0FDUixDQXhJQWYsMEJBQXlCLEVBSXpCdEIsZUFBZXNDLGlCQUFpQixRQUFTLFNBQUNJLEdBQ3pDLE9BQVFBLEVBQUVZLEtBQ1QsSUFBSyxVQUNMLElBQUssWUFDSlIsZ0JBQWUsRUFDZixNQUNELElBQUssUUFDSkEsZ0JBQWUsRUFDZkMsa0JBQWlCLENBQ1gsQ0FFVCxDQUFDLEVBRUQxQyxrQkFBa0JpQyxpQkFBaUIsUUFBUyxTQUFDSSxHQUM1QzFDLGVBQWV3RSxNQUFLLENBQ3JCLENBQUMsRUFFRHhFLGVBQWVzQyxpQkFBaUIsVUFBV2EsZ0JBQWdCLEVBRzNEekMsV0FBVzRCLGlCQUFpQixVQUFXZSxnQkFBZ0IsRUFDdkR6QyxtQkFBbUIwQixpQkFBaUIsUUFBU2tCLGNBQWMsRUFDM0Q3QyxtQkFBbUIyQixpQkFBaUIsUUFBU21CLGNBQWMiLCJmaWxlIjoicmVzZXJ2YXRpb24tZm9ybS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBjdXN0b20gc2VsZWN0IGVsZW1lbnRzICovXHJcbmNvbnN0IGN1c3RvbVNlbGVjdDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLXNlbGVjdCcpO1xyXG5jb25zdCBvcmlnaW5hbFNlbGVjdDogSFRNTFNlbGVjdEVsZW1lbnQgPSBjdXN0b21TZWxlY3QucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XHJcbmNvbnN0IG9yaWdpbmFsU2VsZWN0T3B0aW9uczogQXJyYXk8SFRNTE9wdGlvbkVsZW1lbnQ+ID0gQXJyYXkuZnJvbShvcmlnaW5hbFNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKSk7XHJcbmNvbnN0IGN1c3RvbVNlbGVjdEZvY3VzOiBIVE1MRWxlbWVudCA9IGN1c3RvbVNlbGVjdC5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLXNlbGVjdF9fZm9jdXMnKTtcclxuY29uc3QgY3VzdG9tU2VsZWN0Rm9jdXNUZXh0OiBIVE1MRWxlbWVudCA9IGN1c3RvbVNlbGVjdEZvY3VzLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKTtcclxuY29uc3QgY3VzdG9tU2VsZWN0T3B0aW9uc0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgPSBjdXN0b21TZWxlY3QucXVlcnlTZWxlY3RvcignLmN1c3RvbS1zZWxlY3RfX29wdGlvbnMnKTtcclxubGV0IGN1c3RvbVNlbGVjdE9wdGlvbnM6IEFycmF5PEhUTUxFbGVtZW50PiA9IFtdO1xyXG5cclxuLyogc3BpbmJ1dHRvbiBlbGVtZW50cyAqL1xyXG5jb25zdCBjdXN0b21TcGluYnV0dG9uOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcGluYnV0dG9uJyk7XHJcbmNvbnN0IHNwaW5CdXR0b246IEhUTUxFbGVtZW50ID0gY3VzdG9tU3BpbmJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cInNwaW5idXR0b25cIl0nKTtcclxuY29uc3QgZGVjcmVhc2VTcGluYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGN1c3RvbVNwaW5idXR0b24ucXVlcnlTZWxlY3RvcignI2RlY3JlYXNlLXBlb3BsZScpO1xyXG5jb25zdCBpbmNyZWFzZVNwaW5idXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gY3VzdG9tU3BpbmJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcjaW5jcmVhc2UtcGVvcGxlJyk7XHJcblxyXG4vKiBmb3JtIGVsZW1lbnRzICovXHJcbmNvbnN0IHJlc2VydmF0aW9uRm9ybTogSFRNTEZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc2VydmF0aW9uLWZvcm0nKTtcclxuY29uc3QgbmFtZUlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gcmVzZXJ2YXRpb25Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJuYW1lXCJdJyk7XHJcbmNvbnN0IGVtYWlsSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSByZXNlcnZhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImVtYWlsXCJdJyk7XHJcbmNvbnN0IG1vbnRoSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSByZXNlcnZhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm1vbnRoXCJdJyk7XHJcbmNvbnN0IGRheUlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gcmVzZXJ2YXRpb25Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJkYXlcIl0nKTtcclxuY29uc3QgeWVhcklucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gcmVzZXJ2YXRpb25Gb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJ5ZWFyXCJdJyk7XHJcbmNvbnN0IGhvdXJJbnB1dDogSFRNTElucHV0RWxlbWVudCA9IHJlc2VydmF0aW9uRm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiaG91clwiXScpO1xyXG5jb25zdCBtaW51dGVzSW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSByZXNlcnZhdGlvbkZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm1pbnV0ZVwiXScpO1xyXG5cclxuLyogY29uc3RhbnRzICovXHJcbmNvbnN0IENIRUNLX0lDT05fVVJMOiBzdHJpbmcgPSAnLi9kaXN0L2Fzc2V0cy9pbWFnZXMvaWNvbnMvaWNvbi1jaGVjay5zdmcnO1xyXG5cclxuY3JlYXRlQ3VzdG9tU2VsZWN0T3B0aW9ucygpO1xyXG5cclxuLyogZXZlbnQgbGlzdGVuZXJzICovXHJcbi8qIC0tLSBmb3IgY3VzdG9tIHNlbGVjdCAqL1xyXG5vcmlnaW5hbFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcblx0c3dpdGNoIChlLmtleSkge1xyXG5cdFx0Y2FzZSAnQXJyb3dVcCc6XHJcblx0XHRjYXNlICdBcnJvd0Rvd24nOlxyXG5cdFx0XHRoYW5kbGVTZWxlY3Rpb24oKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdFbnRlcic6XHJcblx0XHRcdGhhbmRsZVNlbGVjdGlvbigpO1xyXG5cdFx0XHRjbG9zZUN1c3RvbVNlbGVjdCgpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcbn0pO1xyXG5cclxuY3VzdG9tU2VsZWN0Rm9jdXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZTogRXZlbnQpID0+IHtcclxuXHRvcmlnaW5hbFNlbGVjdC5mb2N1cygpO1xyXG59KTtcclxuXHJcbm9yaWdpbmFsU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBvcGVuQ3VzdG9tU2VsZWN0KTtcclxuXHJcbi8qIC0tLSBmb3Igc3BpbmJ1dHRvbiAqL1xyXG5zcGluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVTcGluQnV0dG9uKTtcclxuaW5jcmVhc2VTcGluYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5jcmVhc2VQZW9wbGUpO1xyXG5kZWNyZWFzZVNwaW5idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWNyZWFzZVBlb3BsZSk7XHJcblxyXG4vKiBoZWxwZXIgZnVuY3Rpb25zICovXHJcbi8qIC0tLSBmb3IgY3VzdG9tIHNlbGVjdCAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDdXN0b21TZWxlY3RPcHRpb25zKCk6IHZvaWQge1xyXG5cdG9yaWdpbmFsU2VsZWN0T3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XHJcblx0XHRjb25zdCBjdXN0b21PcHRpb246IEhUTUxFbGVtZW50ID0gY3JlYXRlQ3VzdG9tT3B0aW9uKG9wdGlvbik7XHJcblx0XHRjdXN0b21TZWxlY3RPcHRpb25zLnB1c2goY3VzdG9tT3B0aW9uKTtcclxuXHRcdGN1c3RvbVNlbGVjdE9wdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY3VzdG9tT3B0aW9uKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ3VzdG9tT3B0aW9uKG9wdGlvbjogSFRNTE9wdGlvbkVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XHJcblx0Y29uc3Qgb3B0aW9uV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRvcHRpb25XcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2N1c3RvbS1zZWxlY3RfX29wdGlvbicpO1xyXG5cdG9wdGlvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXNlbGVjdGVkJywgb3B0aW9uLnNlbGVjdGVkLnRvU3RyaW5nKCkpO1xyXG5cdG9wdGlvbldyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgb3B0aW9uLnZhbHVlKTtcclxuXHRvcHRpb25XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ3VzdG9tT3B0aW9uKTtcclxuXHJcblx0Y29uc3QgY2hlY2tJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdGNoZWNrSW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCBDSEVDS19JQ09OX1VSTCk7XHJcblx0Y2hlY2tJbWFnZS5zZXRBdHRyaWJ1dGUoJ2FsdCcsICcnKTtcclxuXHJcblx0Y29uc3Qgb3B0aW9uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRvcHRpb25UZXh0LmlubmVyVGV4dCA9IG9wdGlvbi5pbm5lclRleHQ7XHJcblxyXG5cdG9wdGlvbldyYXBwZXIuYXBwZW5kQ2hpbGQoY2hlY2tJbWFnZSk7XHJcblx0b3B0aW9uV3JhcHBlci5hcHBlbmRDaGlsZChvcHRpb25UZXh0KTtcclxuXHJcblx0cmV0dXJuIG9wdGlvbldyYXBwZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUN1c3RvbU9wdGlvbihlOiBFdmVudCk6IHZvaWQge1xyXG5cdGNvbnN0IG9wdGlvbjogSFRNTEVsZW1lbnQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcclxuXHRvcmlnaW5hbFNlbGVjdE9wdGlvbnMuZm9yRWFjaChvcHQgPT4gKG9wdC5zZWxlY3RlZCA9IG9wdC52YWx1ZSA9PT0gb3B0aW9uLmRhdGFzZXQudmFsdWUpKTtcclxuXHRoYW5kbGVTZWxlY3Rpb24oKTtcclxuXHRjbG9zZUN1c3RvbVNlbGVjdCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb24oKTogdm9pZCB7XHJcblx0Y29uc3Qgc2VsZWN0ZWRWYWx1ZTogc3RyaW5nID0gb3JpZ2luYWxTZWxlY3RPcHRpb25zLmZpbHRlcihvcHQgPT4gb3B0LnNlbGVjdGVkKVswXS52YWx1ZTtcclxuXHRjdXN0b21TZWxlY3RGb2N1c1RleHQuaW5uZXJUZXh0ID0gc2VsZWN0ZWRWYWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG5cdGN1c3RvbVNlbGVjdE9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xyXG5cdFx0b3B0aW9uLmRhdGFzZXQuc2VsZWN0ZWQgPSAob3B0aW9uLmRhdGFzZXQudmFsdWUgPT09IHNlbGVjdGVkVmFsdWUpLnRvU3RyaW5nKCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5DdXN0b21TZWxlY3QoKTogdm9pZCB7XHJcblx0Y3VzdG9tU2VsZWN0LmRhdGFzZXQub3BlbiA9ICd0cnVlJztcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VDdXN0b21TZWxlY3QoKTogdm9pZCB7XHJcblx0Y3VzdG9tU2VsZWN0LmRhdGFzZXQub3BlbiA9ICdmYWxzZSc7XHJcbn1cclxuXHJcbi8qIC0tLSBmb3Igc3BpbmJ1dHRvbiAqL1xyXG5mdW5jdGlvbiBoYW5kbGVTcGluQnV0dG9uKGU6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuXHRzd2l0Y2ggKGUua2V5KSB7XHJcblx0XHRjYXNlICdBcnJvd1VwJzpcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRpbmNyZWFzZVBlb3BsZSgpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ0Fycm93RG93bic6XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0ZGVjcmVhc2VQZW9wbGUoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdIb21lJzpcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRzZXRNaW5QZW9wbGUoKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdFbmQnOlxyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHNldE1heFBlb3BsZSgpO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY3JlYXNlUGVvcGxlKCk6IHZvaWQge1xyXG5cdGNvbnN0IGN1cnJlbnRWYWx1ZTogbnVtYmVyID0gTnVtYmVyKHNwaW5CdXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JykpO1xyXG5cdGNvbnN0IG1heFZhbHVlOiBudW1iZXIgPSBOdW1iZXIoc3BpbkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtYXgnKSk7XHJcblx0Y29uc3QgbmV3VmFsdWU6IG51bWJlciA9IE1hdGgubWluKGN1cnJlbnRWYWx1ZSArIDEsIG1heFZhbHVlKTtcclxuXHR1cGRhdGVTcGluQnV0dG9uKG5ld1ZhbHVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVjcmVhc2VQZW9wbGUoKTogdm9pZCB7XHJcblx0Y29uc3QgY3VycmVudFZhbHVlOiBudW1iZXIgPSBOdW1iZXIoc3BpbkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnKSk7XHJcblx0Y29uc3QgbWluVmFsdWU6IG51bWJlciA9IE51bWJlcihzcGluQnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1pbicpKTtcclxuXHRjb25zdCBuZXdWYWx1ZTogbnVtYmVyID0gTWF0aC5tYXgoY3VycmVudFZhbHVlIC0gMSwgbWluVmFsdWUpO1xyXG5cdHVwZGF0ZVNwaW5CdXR0b24obmV3VmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRNYXhQZW9wbGUoKSB7XHJcblx0Y29uc3QgbWF4VmFsdWU6IG51bWJlciA9IE51bWJlcihzcGluQnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1heCcpKTtcclxuXHR1cGRhdGVTcGluQnV0dG9uKG1heFZhbHVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TWluUGVvcGxlKCkge1xyXG5cdGNvbnN0IG1pblZhbHVlOiBudW1iZXIgPSBOdW1iZXIoc3BpbkJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtaW4nKSk7XHJcblx0dXBkYXRlU3BpbkJ1dHRvbihtaW5WYWx1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVNwaW5CdXR0b24obmV3VmFsdWU6IG51bWJlcik6IHZvaWQge1xyXG5cdHNwaW5CdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93JywgbmV3VmFsdWUudG9TdHJpbmcoKSk7XHJcblx0c3BpbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWV0ZXh0JywgYCR7bmV3VmFsdWV9IHBlb3BsZWApO1xyXG5cdHNwaW5CdXR0b24uaW5uZXJUZXh0ID0gYCR7bmV3VmFsdWV9IHBlb3BsZWA7XHJcbn1cclxuXHJcbi8qIC0tLSBmb3IgZm9ybSB2YWxpZGF0aW9uICovXHJcbmZ1bmN0aW9uIGlzQmxhbmsodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiB2YWx1ZSAhPT0gJyc7XHJcbn1cclxuIl19
